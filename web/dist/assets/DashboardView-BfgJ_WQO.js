import{u as w}from"./users-CyS2RdYu.js";import{u as y}from"./certificates-DDZZFfAN.js";import{d as b,r as M,s as u,h as x,c as a,a as s,t as i,j as f,k as m,l as U,F as h,x as g,o,f as k,n as C}from"./index-_QPn6ggU.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"dashboard"},B={class:"stats-grid"},j={class:"stat-card"},N={class:"stat-content"},S={class:"stat-value"},A={class:"stat-card"},H={class:"stat-content"},R={class:"stat-value"},D={class:"stat-card"},P={class:"stat-content"},T={class:"stat-value"},E={class:"stat-card"},F={class:"stat-content"},q={class:"stat-value"},I={class:"dashboard-grid"},L={class:"dashboard-card"},G={class:"card-header"},J={class:"card-content"},K={key:0,class:"loading"},O={key:1,class:"empty-state"},Q={key:2,class:"certificate-list"},W={class:"certificate-info"},X={class:"certificate-type"},Y={class:"certificate-user"},Z={class:"certificate-status"},$={class:"dashboard-card"},ss={class:"card-header"},ts={class:"card-content"},es={key:0,class:"loading"},as={key:1,class:"empty-state"},os={key:2,class:"user-list"},is={class:"user-info"},ns={class:"user-name"},rs={class:"user-details"},ls={class:"user-role"},ds=b({__name:"DashboardView",setup(cs){const r=w(),l=y(),c=M(!0),d=u(()=>({totalUsers:r.users.length,totalCertificates:l.certificates.length,pendingCertificates:l.certificates.filter(n=>n.status==="pending").length,purokChairmen:r.users.filter(n=>n.role==="purok_chairman").length})),v=u(()=>l.certificates.slice(0,5)),p=u(()=>r.users.slice(0,5));return x(async()=>{try{await Promise.all([r.fetchUsers(),l.fetchCertificates()])}catch(n){console.error("Error loading dashboard data:",n)}finally{c.value=!1}}),(n,t)=>{const _=U("router-link");return o(),a("div",z,[s("div",B,[s("div",j,[t[2]||(t[2]=s("div",{class:"stat-icon stat-icon-blue"},[s("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),s("div",N,[t[0]||(t[0]=s("h3",{class:"stat-title"},"Total Users",-1)),s("p",S,i(d.value.totalUsers),1),t[1]||(t[1]=s("p",{class:"stat-description"},"Registered users",-1))])]),s("div",A,[t[5]||(t[5]=s("div",{class:"stat-icon stat-icon-green"},[s("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),s("div",H,[t[3]||(t[3]=s("h3",{class:"stat-title"},"Total Certificates",-1)),s("p",R,i(d.value.totalCertificates),1),t[4]||(t[4]=s("p",{class:"stat-description"},"All certificates",-1))])]),s("div",D,[t[8]||(t[8]=s("div",{class:"stat-icon stat-icon-yellow"},[s("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),s("div",P,[t[6]||(t[6]=s("h3",{class:"stat-title"},"Pending Requests",-1)),s("p",T,i(d.value.pendingCertificates),1),t[7]||(t[7]=s("p",{class:"stat-description"},"Awaiting approval",-1))])]),s("div",E,[t[11]||(t[11]=s("div",{class:"stat-icon stat-icon-purple"},[s("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),s("div",F,[t[9]||(t[9]=s("h3",{class:"stat-title"},"Purok Chairmen",-1)),s("p",q,i(d.value.purokChairmen),1),t[10]||(t[10]=s("p",{class:"stat-description"},"Community leaders",-1))])])]),s("div",I,[s("div",L,[s("div",G,[t[13]||(t[13]=s("h3",{class:"card-title"},"Recent Certificates",-1)),f(_,{to:"/admin/certificates",class:"card-link"},{default:m(()=>[...t[12]||(t[12]=[k("View All",-1)])]),_:1})]),s("div",J,[c.value?(o(),a("div",K,[...t[14]||(t[14]=[s("div",{class:"spinner"},null,-1)])])):v.value.length===0?(o(),a("div",O,[...t[15]||(t[15]=[s("p",null,"No recent certificates",-1)])])):(o(),a("div",Q,[(o(!0),a(h,null,g(v.value,e=>(o(),a("div",{key:e.id,class:"certificate-item"},[s("div",W,[s("h4",X,i(e.certificate_type),1),s("p",Y,i(e.users?.full_name||"Unknown User"),1)]),s("div",Z,[s("span",{class:C(["badge",{"badge-warning":e.status==="pending","badge-info":e.status==="approved","badge-success":e.status==="completed","badge-danger":e.status==="rejected"}])},i(e.status),3)])]))),128))]))])]),s("div",$,[s("div",ss,[t[17]||(t[17]=s("h3",{class:"card-title"},"Recent Users",-1)),f(_,{to:"/admin/users",class:"card-link"},{default:m(()=>[...t[16]||(t[16]=[k("View All",-1)])]),_:1})]),s("div",ts,[c.value?(o(),a("div",es,[...t[18]||(t[18]=[s("div",{class:"spinner"},null,-1)])])):p.value.length===0?(o(),a("div",as,[...t[19]||(t[19]=[s("p",null,"No recent users",-1)])])):(o(),a("div",os,[(o(!0),a(h,null,g(p.value,e=>(o(),a("div",{key:e.id,class:"user-item"},[s("div",is,[s("h4",ns,i(e.full_name),1),s("p",rs,i(e.email),1)]),s("div",ls,[s("span",{class:C(["badge",{"badge-danger":e.role==="admin","badge-warning":e.role==="purok_chairman","badge-info":e.role==="resident"}])},i(e.role.replace("_"," ")),3)])]))),128))]))])])])])}}}),fs=V(ds,[["__scopeId","data-v-941ff597"]]);export{fs as default};
